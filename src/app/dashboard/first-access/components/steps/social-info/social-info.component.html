<app-form 
  [formGroup]="formGroup" 
  [errorMessages]="errorMessages"
  [submitButtonText]="'Próximo'"
  (formSubmit)="formSubmit.emit()"
  [isNextButton]="true"
  [showPreviousButton]="true"
  (previous)="previous.emit()"
  #socialInfoFormComponent>
  
  <h4 class="fw-bold">Seu perfil</h4>
  <p class="text-muted mb-4">Queremos saber mais sobre sua forma de divulgação e como conhece-lo melhor</p>
  
  <div class="mb-4">
    <div class="d-flex justify-content-center mb-4">
      <div class="position-relative" style="cursor: pointer;" (click)="changeProfileImage.emit()">
        <div class="rounded-circle bg-light d-flex align-items-center justify-content-center" style="width: 100px; height: 100px; overflow: hidden;">
          <img *ngIf="!isUploading" [src]="profilePictureUrl || 'assets/images/default-avatar.png'" alt="Profile Avatar" class="img-fluid" style="object-fit: cover; width: 100%; height: 100%;">
          <div *ngIf="isUploading" class="d-flex align-items-center justify-content-center w-100 h-100">
            <div class="spinner-border text-primary" role="status">
              <span class="visually-hidden">Carregando...</span>
            </div>
          </div>
        </div>
        <div class="btn btn-primary rounded-circle position-absolute bottom-0 end-0 d-flex align-items-center justify-content-center" style="width: 30px; height: 30px; padding: 0; pointer-events: none;">
          <img src="assets/images/edit-pen-icon.png" alt="Edit Profile" style="width: 12px; height: 12px;">
        </div>
      </div>
    </div>
    
    <div class="row gy-3 mt-1">
      <div class="col-md-6">
        <app-input 
          label="Site"
          formControlName="website"
          bgColor="white"
          [errorMessage]="socialInfoFormComponent.getErrorMessage('website')">
        </app-input>
      </div>
      <div class="col-md-6">
        <app-input 
          label="Instagram"
          formControlName="instagram"
          bgColor="white"
          [errorMessage]="socialInfoFormComponent.getErrorMessage('instagram')">
        </app-input>
      </div>
    </div>
    
    <div class="mt-3">
      <app-input 
        label="Sobre você"
        inputType="textarea"
        [rows]="4"
        formControlName="about"
        bgColor="white"
        [errorMessage]="socialInfoFormComponent.getErrorMessage('about')">
        <p class="text-muted small">Conte o que você quer que seus pacientes saibam sobre você</p>
      </app-input>
    </div>
  </div>
</app-form>
